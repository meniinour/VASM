<div class="ok">
  <app-my-header></app-my-header>
  <div class="container">
    <app-sidebar-client></app-sidebar-client>
    <div class="content-area" [ngClass]="{'sidebar-expanded': !sidebarCollapsed}">
      <div class="header-section">
        <h1>Liste des Salari√©s</h1>
        <div class="breadcrumb">
          <a routerLink="/salaries">Salaries</a> <span class="separator">/</span> <span class="current">Liste</span>
        </div>
      </div>
  
      <div class="filters-section">
        <div class="search-and-btn">
          <div class="search-container">
            <input type="text" placeholder="Rechercher par nom, matricule ou poste..." 
              [(ngModel)]="searchText" class="search-input" />
            <div class="search-icon">üîç</div>
          </div>
          <button routerLink="/add-salarie" class="btn-primary">
            <span class="add-icon">+</span> Nouveau Salari√©
          </button>
        </div>
  
        <div class="advanced-filters">
          <div class="filter-group">
            <label for="department-filter">Filtrer par d√©partement:</label>
            <select id="department-filter" [(ngModel)]="selectedDepartment" class="filter-select">
              <option value="">Tous les d√©partements</option>
              <option *ngFor="let dept of departments" [value]="dept">{{ dept }}</option>
            </select>
          </div>
          <button (click)="clearFilters()" class="btn-reset" *ngIf="searchText || selectedDepartment !== ''">
            R√©initialiser les filtres
          </button>
        </div>
      </div>
  
      <div class="card">
        <div *ngIf="isLoading" class="loading-container">
          <div class="loading-spinner-large"></div>
          <p>Chargement des donn√©es...</p>
        </div>
  
        <div *ngIf="!isLoading">
          <div *ngIf="filteredSalaries.length === 0" class="empty-state">
            <div class="empty-icon">üìã</div>
            <p>Aucun salari√© ne correspond √† vos crit√®res de recherche.</p>
          </div>
  
          <table *ngIf="filteredSalaries.length > 0" class="salaries-table">
            <thead>
              <tr>
                <th (click)="sortBy('nom')">Nom {{ getSortIcon('nom') }}</th>
                <th (click)="sortBy('matricule')">Matricule {{ getSortIcon('matricule') }}</th>
                <th (click)="sortBy('poste')">Poste {{ getSortIcon('poste') }}</th>
                <th (click)="sortBy('departement')">D√©partement {{ getSortIcon('departement') }}</th>
                <th (click)="sortBy('dateEmbauche')">Date d'embauche {{ getSortIcon('dateEmbauche') }}</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let salarie of filteredSalaries" class="salarie-row">
                <td>{{ salarie.nom }}</td>
                <td>{{ salarie.matricule }}</td>
                <td>{{ salarie.poste }}</td>
                <td>
                  <span class="department-badge" [ngClass]="'dept-' + (salarie.departement || '').toLowerCase()">
                    {{ salarie.departement }}
                  </span>
                </td>
                <td>{{ salarie.dateEmbauche | date:'dd/MM/yyyy' }}</td>
                <td class="actions-cell">
                  <button class="btn-action edit" title="Modifier" [routerLink]="['/edit-salarie', salarie.id]">
                    ‚úèÔ∏è
                  </button>
                  <button class="btn-action delete" title="Supprimer" (click)="deleteSalarie(salarie.id, $event)">
                    üóëÔ∏è
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
  
          <div class="table-footer" *ngIf="filteredSalaries.length > 0">
            <div class="results-count">
              Affichage de {{ filteredSalaries.length }} salari√©(s) sur {{ salaries.length }}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  </div>